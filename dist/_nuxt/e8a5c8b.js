(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1186:function(e,t,n){"use strict";n.r(t);n(59),n(52),n(55),n(33),n(34),n(12),n(9),n(8),n(6),n(10),n(22);var o=n(3),r=n(32),l=n(573),d=n(515),c=n(0);function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw r}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={middleware:"auth",components:{BIconPlusCircleFill:c.Fr,DesignTile:l.a,DesignList:d.a,BIconGridFill:c.Bn,BIconListTask:c.Gp,BIconX:c.Xv,BIconChevronDown:c.eh,BIconChevronUp:c.ih,BIconEyeFill:c.Yj,BIconClipboard:c.nh,BIconDownload:c.Zi},asyncData:function(e){return e.$axios.get("/pages/lists").then((function(e){return{pageData:e.data}}))},head:function(){return{meta:[{hid:"description",name:"description",content:this.pageData.translations[this.$i18n.locale].meta_description},{hid:"keywords",name:"keywords",content:this.pageData.translations[this.$i18n.locale].meta_keywords}]}},computed:x(x({},Object(r.b)("app",["init"])),{},{productCount:function(){if(!this.list)return 0;var e,t=0,n=h(this.list.products);try{for(n.s();!(e=n.n()).done;){"quickDisplay"in e.value||t++}}catch(e){n.e(e)}finally{n.f()}return t}}),data:function(){return{list:null,editTitleMode:!1,loading:!1,mode:"grid",fields:[{key:"design",label:this.$t("designs")},{key:"code",label:this.$t("design_name")},{key:"download",label:this.$t("download")},{key:"actions",label:this.$t("delete")}],removing:!1,selectedDesign:null,shareExpanded:!1,clipboardTooltip:this.$t("copy_to_clipboard"),sharing:!1,shareEmailCount:1}},methods:{getList:function(){for(var e=this.$route.params.id,i=0;i<this.init.lists.length;i++)if(this.init.lists[i].id==e){this.list=JSON.parse(JSON.stringify(this.init.lists[i]));break}},changeMode:function(e){this.$refs.designList&&this.$refs.designList.closeQuickDisplay(),this.mode=e},selectDesign:function(e){this.selectedDesign=e},confirmRemove:function(e){var t=this;this.selectDesign(e),this.$bvModal.msgBoxConfirm(this.$t("are_you_sure"),{centered:!0,bodyClass:"confirm-box-body",footerClass:"confirm-box-footer"}).then((function(e){e&&t.remove()}))},remove:function(){var e=this;this.removing=!0,this.$axios.$delete("/list/".concat(this.list.id,"/design/").concat(this.selectedDesign)).then((function(t){for(var i=0;i<e.init.lists.length;i++)e.init.lists[i].id==t.id&&(e.$store.commit("app/replaceList",{index:i,list:t}),e.list=t);e.removing=!1,e.selectDesign(null)}))},toggleShareBox:function(e){this.shareExpanded=e},getListShareURL:function(){return"https://ui.collectionstock.com/shared/list/"+this.list.view_token},copyListShareURL:function(){var e=this,t=this.getListShareURL();this.$copyText(t).then((function(t){e.listURLCopied()}))},listURLCopied:function(){var e=this;this.clipboardTooltip=this.$t("share_link_copied"),setTimeout((function(){e.clipboardTooltip=e.$t("copy_to_clipboard")}),1500)},clearForm:function(){document.querySelectorAll(".share-form input").forEach((function(e){e.value=""})),document.querySelector(".share-form textarea").value="",this.shareEmailCount=1},cancelForm:function(){this.toggleShareBox(!1),this.clearForm()},shareList:function(e){var t=this,n=e.target.elements["email[]"],o=[];n.forEach?n.forEach((function(e){e.value.length&&o.push(e.value)})):o.push(n.value),this.sharing=!0,this.$axios.$post("/list/share/".concat(this.list.id),{emails:o,name:e.target.elements.name.value,message:e.target.elements.message.value}).then((function(e){t.sharing=!1,t.cancelForm(),t.$toast.success(t.$t("list_shared_success_message"))})).catch((function(e){t.sharing=!1,t.$toast.error(e.response.data.error.message)}))},addRecipientInput:function(){var e=document.querySelectorAll('.share-form input[type="email"]');e[e.length-1].value.length>0&&this.shareEmailCount++},updateListTitle:function(e){var t=this,n=e.target.elements.name.value;this.loading=!0,this.$axios.$patch("/list/".concat(this.list.id),{name:n}).then((function(e){t.loading=!1,t.editTitleMode=!1,t.$toast.success(t.$t("list_name_updated_successfully"));for(var i=0;i<t.init.lists.length;i++)t.init.lists[i].id==t.list.id&&(t.$store.commit("app/updateListName",{index:i,name:n}),t.list.name=n)})).catch((function(e){t.loading=!1,t.$toast.error(e.response.data.error.message)}))},print:function(){window.print()},editListNameBlur:function(e){e.relatedTarget&&-1!=e.relatedTarget.className.indexOf("updateListTileButton")||(this.editTitleMode=!1)}},watch:{init:function(e){this.$nextTick((function(){e.lists&&this.getList()}))}},mounted:function(){this.$nextTick((function(){this.init.lists&&this.getList()}))}},y=(n(880),n(20)),component=Object(y.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page list"},[e.list?e._e():o("div",{staticStyle:{"text-align":"center"}},[o("b-spinner",{attrs:{type:"grow",label:"Loading..."}})],1),e._v(" "),e.list?o("div",[o("div",{staticClass:"list-header"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editTitleMode,expression:"!editTitleMode"}]},[o("h3",[o("span",[e._v(e._s(e.list.name))]),e._v(" "),o("b-button",{staticClass:"btn-edit-list-title ignorePrint",attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(t){e.editTitleMode=!0,e.$nextTick((function(){e.$refs.updateListTileInput.focus()}))}}},[o("i",{staticClass:"fas fa-pencil-alt"})]),e._v(" "),o("span",[e._v("("+e._s(e.productCount)+")")])],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.editTitleMode,expression:"editTitleMode"}]},[o("form",{on:{submit:function(t){return t.preventDefault(),e.updateListTitle(t)}}},[o("b-input-group",[o("b-form-input",{ref:"updateListTileInput",attrs:{name:"name",value:e.list.name,required:""},on:{blur:e.editListNameBlur}}),e._v(" "),o("b-input-group-append",[o("b-button",{staticClass:"updateListTileButton",attrs:{variant:"dark",type:"submit",disabled:e.loading}},[e._v("\n                                "+e._s(e.$t("update"))+"\n                            ")])],1)],1)],1)]),e._v(" "),o("div",{staticClass:"actions ignorePrint"},[o("b-button",{staticClass:"btn-print ignorePrint",attrs:{size:"sm"},on:{click:e.print}},[e._v("\n                    "+e._s(e.$t("print"))+" "),o("img",{staticStyle:{height:"auto",width:"20px"},attrs:{src:n(504)}})])],1)]),e._v(" "),o("div",{staticClass:"share ignorePrint"},[o("div",{staticClass:"share-box"},[o("div",{staticClass:"share-header",on:{click:function(t){return e.toggleShareBox(!e.shareExpanded)}}},[o("span",[e._v(e._s(e.$t("share_via_email")))]),e._v(" "),o("div",{staticClass:"arrow"},[o("b-icon-chevron-down",{directives:[{name:"show",rawName:"v-show",value:!e.shareExpanded,expression:"!shareExpanded"}]}),e._v(" "),o("b-icon-chevron-up",{directives:[{name:"show",rawName:"v-show",value:e.shareExpanded,expression:"shareExpanded"}]})],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.shareExpanded,expression:"shareExpanded"}],staticClass:"share-body"},[o("div",{staticClass:"list-url-box"},[o("p",[e._v(e._s(e.$t("or_copy_this_link"))+":")]),e._v(" "),o("p",[e._v(e._s(e.getListShareURL()))]),e._v(" "),o("div",{staticClass:"actions"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.getListShareURL(),target:"_blank",title:e.$t("preview_share_link")}},[o("b-icon-eye-fill")],1),e._v(" "),o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.clipboardTooltip},on:{click:e.copyListShareURL}},[o("b-icon-clipboard")],1)],1)]),e._v(" "),o("div",{staticClass:"share-form"},[o("form",{on:{submit:function(t){return t.preventDefault(),e.shareList(t)}}},[e._l(e.shareEmailCount,(function(t,n){return[o("div",{key:"recipient_email_"+t,staticStyle:{display:"flex"}},[o("b-input",{attrs:{type:"email",name:"email[]",placeholder:e.$t("recipient_email"),required:0==n}}),e._v(" "),n==e.shareEmailCount-1?o("b-button",{staticClass:"addShareRecipient",attrs:{tabindex:"-1"},on:{click:e.addRecipientInput}},[o("b-icon-plus-circle-fill")],1):e._e()],1)]})),e._v(" "),o("b-input",{attrs:{type:"text",name:"name",placeholder:e.$t("recipient_name"),required:""}}),e._v(" "),o("b-textarea",{attrs:{placeholder:e.$t("message"),name:"message"}}),e._v(" "),o("div",{staticClass:"button d-flex"},[o("button",{staticClass:"btn-send",attrs:{type:"submit",disabled:e.sharing}},[e._v(e._s(e.$t("send")))]),e._v(" "),o("button",{staticClass:"btn-cancel",on:{click:e.cancelForm}},[e._v(e._s(e.$t("cancel")))])])],2)])])])]),e._v(" "),o("div",{staticClass:"designs"},["grid"==e.mode?o("div",[o("DesignList",{ref:"designList",attrs:{designs:e.list.products}})],1):e._e()])]):e._e()])}),[],!1,null,null,null);t.default=component.exports},659:function(e,t,n){var content=n(881);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("a3b6cbba",content,!0,{sourceMap:!1})},880:function(e,t,n){"use strict";n(659)},881:function(e,t,n){(t=n(24)(!1)).push([e.i,'.nav-tabs .nav-link{color:#495057;outline:none;border:none;padding:6px 0 0;font-size:25px;margin-right:16px}@media screen and (max-width:768px){.nav-tabs .nav-link{font-size:14px}}.nav-tabs{border:none}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#000;outline:none;font-weight:600;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;font-size:25px;padding:6px 0 0;margin-right:20px}@media screen and (max-width:768px){.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{font-size:14px}}.modal-dialog .confirm-box-body{text-align:center}.modal-dialog .confirm-box-header-confirm{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary{opacity:.5}.modal-content{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button,.modal-content .white-button{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button{color:#fff;background-color:#363636}.updateListTileButton{font-size:14px}.share-form .btn-send{color:#fff;background-color:#363636;border-radius:30px;border:none}.share-form .btn-cancel,.share-form .btn-send{display:inline-block;padding:0;width:100px;height:30px;line-height:30px;font-size:14px;font-weight:650;text-align:center;text-decoration:none;outline:none;text-transform:uppercase;box-shadow:0 2px 4px rgba(0,0,0,.2)}.share-form .btn-cancel{color:#363636;background-color:#fff;border-radius:30px;border:1px solid #363636;margin-left:15px}.page.list .container{max-width:100%!important}.page.list .list-header{display:flex;align-items:center;justify-content:space-between}@media screen and (max-width:550px){.page.list .list-header form{width:160px}}@media screen and (max-width:768px){.page.list .list-header h3{font-size:16px}}.page.list .list-header .btn-edit-list-title{border:none;background:transparent!important;font-size:18px;color:#363636;padding:0 5px}.page.list .list-header .actions button{outline:none;box-shadow:none;border:none;background:none;color:#363636;padding:0;font-size:20px;margin-left:5px;opacity:.5}.page.list .list-header .actions button.active{opacity:1}.page.list .list-header .actions button.btn-print{font-size:16px;opacity:1;border:1px solid #363636;border-radius:30px;padding:2px 15px;font-weight:700}@media screen and (max-width:768px){.page.list .list-header .actions button.btn-print{font-size:14px}}.page.list .share{margin:20px 0}.page.list .share .share-box{border:solid #ddd;border-width:1px 1px 2px;border-radius:6px}.page.list .share .share-box .share-header{padding:20px;font-size:20px;font-weight:700;display:flex;align-items:center;justify-content:space-between;cursor:pointer}@media screen and (max-width:768px){.page.list .share .share-box .share-header{font-size:16px}}.page.list .share .share-box .share-body{padding:20px;border-top:1px solid #ddd}.page.list .share .share-box .share-body .list-url-box{padding:10px;border:1px solid #ddd;border-radius:5px;font-size:14px}@media screen and (max-width:768px){.page.list .share .share-box .share-body .list-url-box{font-size:12px}}.page.list .share .share-box .share-body .list-url-box p{word-wrap:break-word}.page.list .share .share-box .share-body .list-url-box .actions button{outline:none;border:none;color:#363636;box-shadow:none;font-size:14px;background:transparent;padding:5px}.page.list .share .share-box .share-body .list-url-box .actions a{font-size:16px;text-decoration:none;color:#363636;position:relative;top:2px}.page.list .share .share-box .share-body .share-form{margin-top:20px}.page.list .share .share-box .share-body .share-form input{width:100%;max-width:400px;margin-bottom:10px}@media screen and (max-width:768px){.page.list .share .share-box .share-body .share-form input{font-size:12px}}.page.list .share .share-box .share-body .share-form textarea{margin-bottom:10px;height:100px}@media screen and (max-width:768px){.page.list .share .share-box .share-body .share-form textarea{font-size:12px}}.page.list .share .share-box .share-body .share-form .addShareRecipient{border:none;background:transparent;padding:0;font-size:18px;color:#363636;position:relative;right:-5px;top:-5px;outline:none;box-shadow:none}@media screen and (max-width:768px){.page.list .share .share-box .share-body .share-form .addShareRecipient{font-size:12px}}@media screen and (min-width:768px){.page.list .designs{margin-left:5px}}.page.list .designs .table td,.page.list .designs .table th{vertical-align:middle}.page.list .designs table .design-preview{width:100px;height:100px}.page.list .designs table td[aria-colindex="3"],.page.list .designs table td[aria-colindex="4"],.page.list .designs table th[aria-colindex="3"],.page.list .designs table th[aria-colindex="4"]{text-align:center}.page.list .designs table .btn-delete{color:#363636;font-size:40px;text-align:center;padding:0;background:transparent;border:none}.page.list .designs table .btn-download{color:#363636;font-size:20px;text-align:center;padding:0;background:transparent;border:none}',""]),e.exports=t}}]);