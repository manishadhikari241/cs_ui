(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1136:function(t,e,o){"use strict";o.r(e);o(130);var n={data:function(){return{items:[],perPage:20,currentPage:1,total:0,fields:[{key:"id",label:"ID"},{key:"slug",label:"Slug"},{key:"translations.en.title",label:"Title (EN)"},{key:"translations.ch.title",label:"Title (CH)"}],loading:!1,searchTerm:{tmp:"",value:""}}},methods:{load:function(t){var e=this;this.loading=!0,this.$axios.$get("/cms/pages?page=".concat(t).concat(this.searchTerm.value?"&term="+this.searchTerm.value:"")).then((function(t){e.items=t.data,e.total=t.total,e.loading=!1,document.querySelector(".menuframe").scrollTop=0}))},search:function(){this.searchTerm.value=this.searchTerm.tmp,this.currentPage=1,this.load(this.currentPage),document.querySelector(".search-input").blur()},resetSearch:function(){this.searchTerm.tmp="",this.search()},select:function(t,e,o){this.$router.push("/cms/pages?id=".concat(t.id))},refresh:function(){this.load(this.currentPage)}},mounted:function(){var t=this;this.$nextTick((function(){t.load(t.currentPage)}))}},r=(o(717),o(20)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmscomponent list"},[o("div",{staticClass:"actions-container"},[o("div",[o("form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-input",{staticClass:"search-input",attrs:{placeholder:"Search by name"},model:{value:t.searchTerm.tmp,callback:function(e){t.$set(t.searchTerm,"tmp",e)},expression:"searchTerm.tmp"}}),t._v(" "),o("b-input-group-append",[o("b-button",{directives:[{name:"show",rawName:"v-show",value:t.searchTerm.value,expression:"searchTerm.value"}],attrs:{variant:"secondary",type:"button"},on:{click:t.resetSearch}},[t._v("Reset")]),t._v(" "),o("b-button",{attrs:{variant:"primary",type:"submit"}},[t._v("Search")])],1)],1)],1)]),t._v(" "),o("div",[o("b-pagination",{attrs:{"total-rows":t.total,"per-page":t.perPage,"aria-controls":"cms-pages-list"},on:{change:t.load},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t._v(" "),o("div",{staticClass:"additional-actions"},[o("div",[t._v(" ")]),t._v(" "),o("div",{staticClass:"total-count"},[t._v("\n      Total: "),o("strong",[t._v(t._s(t.total))])])]),t._v(" "),o("b-table",{attrs:{id:"cms-pages-list",items:t.items,fields:t.fields,busy:t.loading,"select-mode":"single","sticky-header":"",small:"",selectable:"",striped:""},on:{"row-clicked":t.select}})],1)}),[],!1,null,null,null).exports,c=o(719),d=o.n(c),m=o(539),f={props:["itemId"],components:{draggable:d.a,ImageUploader:m.a},data:function(){return{item:null,loading:!1,blocks:{items:[],inputBoxes:{}},clients:[],clients_preview:[],file:[],allClients:[],fields:[{key:"id",label:"ID"},{key:"image",label:"Image"},{key:"actions",label:"Actions"}]}},methods:{generatePreview:function(t){var e=t.target.files?t.target.files[0]:t.dataTransfer.files[0];return"image/jpeg"!=e.type&&"image/png"!=e.type?(this.$refs.file.reset(),this.clients="",this.clients_preview="",this.$toast.error(this.$t("file_format_incorrect")),t.preventDefault(),!1):(e.size/1048576).toFixed(2)>5?(this.clients="",this.$refs.file.reset(),this.clients_preview="",this.$toast.error(this.$t("file_format_incorrect")),t.preventDefault(),!1):(this.clients_preview=URL.createObjectURL(e),void this.clients.push(e))},addClients:function(){var t=this;this.loading=!0;var e=new FormData;e.append("clients",this.clients[0]),this.$axios.$post("/cms/pages/clients",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.loading=!1,t.$toast.success("Clients added successfully"),t.getClients(),t.$refs.file.reset(),t.clients=[]})).catch((function(e){t.loading=!1,t.$toast.error(e.response.data.error.message)}))},getClients:function(){var t=this;this.$axios.$get("/cms/clients").then((function(e){t.allClients=e})).catch((function(e){t.$toast.error(e.response.data.error.message)}))},deleteClient:function(t){var e=this;this.$bvModal.msgBoxConfirm("Are you sure ?",{centered:!0,bodyClass:"confirm-box-body-confirm",footerClass:"confirm-box-footer-confirm",okTitle:"YES",cancelTitle:"NO",buttonSize:"sm"}).then((function(o){o&&e.$axios.$delete("/cms/pages/".concat(t,"/clients")).then((function(t){e.$toast.success("Clients deleted successfully"),e.getClients()})).catch((function(t){e.$toast.error(t.response.data.error.message)}))}))},coverUploaded:function(t){var e=t.url;this.item.email.image=e},loadPages:function(){var t=this;this.$axios.$get("/cms/pages/".concat(this.itemId)).then((function(e){t.item=e}))},loadBlocks:function(){var t=this;this.$axios.$get("/cms/pages/".concat(this.itemId,"/blocks")).then((function(e){t.blocks.items=e}))},cancel:function(){this.$emit("updated",{clearItemFrame:!0})},update:function(t){var e=this;this.loading=!0,this.$axios.$patch("/cms/pages/".concat(this.itemId),{titleEN:t.target.elements.titleEN.value,titleCH:t.target.elements.titleCH.value,bodyEN:this.item.translations.en.body,bodyCH:this.item.translations.ch.body,infoTitleEN:t.target.elements.infoTitleEN.value,infoTitleCH:t.target.elements.infoTitleCH.value,infoBodyEN:this.item.translations.en.info_body,infoBodyCH:this.item.translations.ch.info_body,metaDescriptionEN:t.target.elements.metaDescriptionEN.value,metaDescriptionCH:t.target.elements.metaDescriptionCH.value,metaKeywordsEN:t.target.elements.metaKeywordsEN.value,metaKeywordsCH:t.target.elements.metaKeywordsCH.value,email:this.item.email.email,whatsapp:this.item.email.whatsapp,qq:this.item.email.qq,wechat:this.item.email.wechat,image:this.item.email.image}).then((function(t){e.loading=!1,e.$toast.success("Page updated successfully"),e.$emit("updated",{refresh:!0})})).catch((function(t){e.loading=!1,e.$toast.error(t.response.data.error.message)}))},createNewBlock:function(){var t=this;this.loading=!0,this.$axios.$post("/cms/pages/".concat(this.itemId,"/blocks")).then((function(e){t.loading=!1,t.$toast.success("New block created successfully and added at the end"),t.loadBlocks()})).catch((function(e){t.loading=!1,t.$toast.error(e.response.data.error.message)}))},updateBlock:function(t){var e=this;this.loading=!0,this.$axios.$patch("/cms/pages/".concat(this.itemId,"/blocks/").concat(t.target.elements.id.value),{titleEN:t.target.elements.titleEN.value,titleCH:t.target.elements.titleCH.value,descriptionEN:t.target.elements.descriptionEN.value,descriptionCH:t.target.elements.descriptionCH.value,buttonTextEN:t.target.elements.buttonTextEN.value,buttonTextCH:t.target.elements.buttonTextCH.value,button_url:t.target.elements.button_url.value}).then((function(t){e.loading=!1,e.$toast.success("Block updated successfully"),e.loadBlocks()})).catch((function(t){e.loading=!1,e.$toast.error(t.response.data.error.message)}))},updateBlockImageURL:function(t){var e=this,o=t.id,n=t.url;this.$axios.$patch("/cms/pages/".concat(this.itemId,"/blocks/").concat(o),{image_url:n}).then((function(t){e.$toast.success("Image updated successfully"),e.loadBlocks()})).catch((function(t){e.$toast.error(t.response.data.error.message)}))},draggedBlock:function(t){var e=this,o=[];this.blocks.items.forEach((function(t){o.push(t.id)})),this.$axios.$post("/cms/pages/".concat(this.itemId,"/blocks/sort"),{order:o}).then((function(t){e.$toast.success("Order updated successfully")}))},toggleBlock:function(t){t.collapsed=!("collapsed"in t)||!t.collapsed,this.$forceUpdate()},deleteBlock:function(t){var e=this;this.$bvModal.msgBoxConfirm("Are you sure?",{centered:!0,bodyClass:"confirm-box-body",footerClass:"confirm-box-footer"}).then((function(o){o&&e.$axios.$delete("/cms/pages/".concat(e.itemid,"/blocks/").concat(t)).then((function(t){e.$toast.success("Block deleted successfully"),e.loadBlocks()})).catch((function(t){e.$toast.error(t.response.data.error.message)}))}))}},watch:{itemId:function(){this.item=null,this.loadPages(),this.loadBlocks()}},mounted:function(){var t=this;this.$nextTick((function(){t.loadPages(),t.loadBlocks(),t.getClients()}))}},v=(o(721),Object(r.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmscomponent item"},[t.item?t._e():o("div",{staticStyle:{"text-align":"center"}},[o("b-spinner",{attrs:{type:"grow",label:"Loading..."}})],1),t._v(" "),t.item?o("div",[o("div",{staticClass:"title"},[o("span",[o("i",{staticClass:"far fa-edit"}),t._v("  ID: "+t._s(t.item.id))]),t._v(" "),o("div",[o("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:t.cancel}},[t._v("Cancel")])],1)]),t._v(" "),o("hr"),t._v(" "),o("div",[o("b-card",{attrs:{"no-body":""}},[o("b-tabs",{attrs:{card:""}},[o("b-tab",{attrs:{title:"General",active:""}},[o("b-card-text",[o("form",{on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[o("div",{staticClass:"item-content"},[o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Title (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"titleEN",required:""},model:{value:t.item.translations.en.title,callback:function(e){t.$set(t.item.translations.en,"title",e)},expression:"item.translations.en.title"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Title (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"titleCH",required:""},model:{value:t.item.translations.ch.title,callback:function(e){t.$set(t.item.translations.ch,"title",e)},expression:"item.translations.ch.title"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Body (EN)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.translations.en.body,callback:function(e){t.$set(t.item.translations.en,"body",e)},expression:"item.translations.en.body"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Body (CH)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.translations.ch.body,callback:function(e){t.$set(t.item.translations.ch,"body",e)},expression:"item.translations.ch.body"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Info Title (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"infoTitleEN"},model:{value:t.item.translations.en.info_title,callback:function(e){t.$set(t.item.translations.en,"info_title",e)},expression:"item.translations.en.info_title"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Info Title (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"infoTitleCH"},model:{value:t.item.translations.ch.info_title,callback:function(e){t.$set(t.item.translations.ch,"info_title",e)},expression:"item.translations.ch.info_title"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Info Body (EN)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.translations.en.info_body,callback:function(e){t.$set(t.item.translations.en,"info_body",e)},expression:"item.translations.en.info_body"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Info Body (CH)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.translations.ch.info_body,callback:function(e){t.$set(t.item.translations.ch,"info_body",e)},expression:"item.translations.ch.info_body"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Description (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaDescriptionEN"},model:{value:t.item.translations.en.meta_description,callback:function(e){t.$set(t.item.translations.en,"meta_description",e)},expression:"item.translations.en.meta_description"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Description (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaDescriptionCH"},model:{value:t.item.translations.ch.meta_description,callback:function(e){t.$set(t.item.translations.ch,"meta_description",e)},expression:"item.translations.ch.meta_description"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Keywords (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaKeywordsEN"},model:{value:t.item.translations.en.meta_keywords,callback:function(e){t.$set(t.item.translations.en,"meta_keywords",e)},expression:"item.translations.en.meta_keywords"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Keywords (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaKeywordsCH"},model:{value:t.item.translations.ch.meta_keywords,callback:function(e){t.$set(t.item.translations.ch,"meta_keywords",e)},expression:"item.translations.ch.meta_keywords"}})],1)]),t._v(" "),5==this.$nuxt.$route.query.id?o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Email")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",required:""},model:{value:t.item.email.email,callback:function(e){t.$set(t.item.email,"email",e)},expression:"item.email.email"}})],1)]):t._e(),t._v(" "),5==this.$nuxt.$route.query.id?o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Whatsapp")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",required:""},model:{value:t.item.email.whatsapp,callback:function(e){t.$set(t.item.email,"whatsapp",e)},expression:"item.email.whatsapp"}})],1)]):t._e(),t._v(" "),5==this.$nuxt.$route.query.id?o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("WeChat ")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",required:""},model:{value:t.item.email.wechat,callback:function(e){t.$set(t.item.email,"wechat",e)},expression:"item.email.wechat"}})],1)]):t._e(),t._v(" "),5==this.$nuxt.$route.query.id?o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("QQ")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",required:""},model:{value:t.item.email.qq,callback:function(e){t.$set(t.item.email,"qq",e)},expression:"item.email.qq"}})],1)]):t._e(),t._v(" "),5==this.$nuxt.$route.query.id?o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Contact Image")]),t._v(" "),o("div",{staticClass:"value"},[o("ImageUploader",{attrs:{id:-1,url:t.item.email.image,folder:"contact"},on:{uploaded:t.coverUploaded}})],1)]):t._e()]),t._v(" "),o("div",{staticClass:"item-actions"},[o("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.loading}},[o("i",{staticClass:"far fa-edit"}),t._v("  Update")])],1)])])],1),t._v(" "),"home"==t.item.slug||"request"==t.item.slug?o("b-tab",{attrs:{title:"Blocks"}},[o("b-card-text",[o("div",[o("b-button",{attrs:{variant:"success",size:"sm"},on:{click:t.createNewBlock}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Create new block")])],1),t._v(" "),o("br"),t._v(" "),o("draggable",{staticClass:"draggable",attrs:{group:"blocks",handle:".handle"},on:{change:t.draggedBlock},model:{value:t.blocks.items,callback:function(e){t.$set(t.blocks,"items",e)},expression:"blocks.items"}},t._l(t.blocks.items,(function(e){return o("div",{key:e.id,staticClass:"block"},[o("div",{staticClass:"handle"},[o("i",{staticClass:"fas fa-arrows-alt"})]),t._v(" "),o("div",{staticClass:"content"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.updateBlock(e)}}},[o("input",{attrs:{type:"hidden",name:"id"},domProps:{value:e.id}}),t._v(" "),o("div",{staticClass:"block-item-content"},[o("b-row",[o("b-col",[o("b-button-group",{attrs:{size:"sm"}},[o("b-button",{attrs:{variant:"info"},on:{click:function(o){return t.toggleBlock(e)}}},[t._v(t._s(e.collapsed?"Hide Form":"Show Form"))]),t._v(" "),o("b-button",{attrs:{variant:"danger"},on:{click:function(o){return t.deleteBlock(e.id)}}},[t._v("Delete Block")])],1),t._v(" "),o("br"),o("br"),t._v(" "),o("div",{class:"block-form-inputs"+(e.collapsed?" visible":"")},[o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Title (EN)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-input",{attrs:{type:"text",name:"titleEN"},model:{value:e.translations.en.title,callback:function(o){t.$set(e.translations.en,"title",o)},expression:"block.translations.en.title"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Title (CH)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-input",{attrs:{type:"text",name:"titleCH"},model:{value:e.translations.ch.title,callback:function(o){t.$set(e.translations.ch,"title",o)},expression:"block.translations.ch.title"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Description (EN)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-textarea",{attrs:{name:"descriptionEN"},model:{value:e.translations.en.description,callback:function(o){t.$set(e.translations.en,"description",o)},expression:"block.translations.en.description"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Description (CH)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-textarea",{attrs:{name:"descriptionCH"},model:{value:e.translations.ch.description,callback:function(o){t.$set(e.translations.ch,"description",o)},expression:"block.translations.ch.description"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Button Text (EN)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-input",{attrs:{type:"text",name:"buttonTextEN"},model:{value:e.translations.en.button_text,callback:function(o){t.$set(e.translations.en,"button_text",o)},expression:"block.translations.en.button_text"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Button Text (CH)")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-input",{attrs:{type:"text",name:"buttonTextCH"},model:{value:e.translations.ch.button_text,callback:function(o){t.$set(e.translations.ch,"button_text",o)},expression:"block.translations.ch.button_text"}})],1)]),t._v(" "),o("div",{staticClass:"block-input-wrapper"},[o("div",{staticClass:"block-input-wrapper-title"},[o("span",[t._v("Button URL")])]),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("b-input",{attrs:{type:"text",name:"button_url"},model:{value:e.button_url,callback:function(o){t.$set(e,"button_url",o)},expression:"block.button_url"}})],1)]),t._v(" "),o("div",{staticStyle:{"text-align":"right"}},[o("b-button",{attrs:{variant:"primary",size:"sm",type:"submit",disabled:t.loading}},[o("i",{staticClass:"far fa-edit"}),t._v("  Update")])],1)])],1),t._v(" "),o("b-col",{attrs:{md:"3"}},[o("ImageUploader",{attrs:{id:e.id,url:e.image_url},on:{uploaded:t.updateBlockImageURL}})],1)],1)],1)])])])})),0)],1)],1):t._e(),t._v(" "),"about"==t.item.slug?o("b-tab",{attrs:{title:"Clients"}},[o("b-card-text",[o("form",{on:{submit:function(e){return e.preventDefault(),t.addClients(e)}}},[o("div",[o("b-form-file",{ref:"file",attrs:{"browse-text":"Browse",state:Boolean(t.clients_preview),required:"",placeholder:"Upload or Drop Files","drop-placeholder":"Drop file here..."},on:{change:t.generatePreview}}),t._v(" "),t.clients.length>0?o("figure",[o("img",{staticClass:"preview",staticStyle:{height:"150px",width:"150px"},attrs:{src:t.clients_preview}})]):t._e()],1),t._v(" "),o("br"),t._v(" "),o("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.loading}},[o("i",{staticClass:"far fa-edit"}),t._v("  Add Client\n                                ")])],1),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Images")]),t._v(" "),o("br"),t._v(" "),o("b-table",{attrs:{striped:"",hover:"",items:t.allClients,fields:t.fields},scopedSlots:t._u([{key:"cell(image)",fn:function(data){return[o("img",{staticStyle:{height:"50px",width:"50px"},attrs:{src:data.item.image}})]}},{key:"cell(actions)",fn:function(data){return[o("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(e){return t.deleteClient(data.item.id)}}},[o("i",{staticClass:"fas fa-trash"}),t._v("  Delete")])]}}],null,!1,2006176467)})],1)])])],1):t._e()],1)],1)],1)]):t._e()])}),[],!1,null,"bf20ffe8",null).exports),x=(o(723),{data:function(){return{loading:!1,item:{slug:"",titleEN:"",titleCH:"",bodyEN:"",bodyCH:"",infoTitleEN:"",infoTitleCH:"",infoBodyEN:"",infoBodyCH:"",metaDescriptionEN:"",metaDescriptionCH:"",metaKeywordsEN:"",metaKeywordsCH:""}}},methods:{cancel:function(){this.$emit("updated",{clearItemFrame:!0})},create:function(){var t=this;this.loading=!0,this.$axios.$post("/cms/pages",this.item).then((function(e){t.loading=!1,t.$toast.success("New page added successfully"),t.cancel()})).catch((function(e){t.loading=!1,t.$toast.error(e.response.data.error.message)}))}}}),h={middleware:"cmsuser",layout:"cms",components:{PageList:l,PageItem:v,CreateForm:Object(r.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmscomponent item newpage create"},[o("div",{staticClass:"title"},[t._m(0),t._v(" "),o("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:t.cancel}},[t._v("Cancel")])],1),t._v(" "),o("hr"),t._v(" "),o("form",{on:{submit:function(e){return e.preventDefault(),t.create(e)}}},[o("div",{staticClass:"item-content"},[o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Slug")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"slug",required:""},model:{value:t.item.slug,callback:function(e){t.$set(t.item,"slug",e)},expression:"item.slug"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Title (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"titleEN",required:""},model:{value:t.item.titleEN,callback:function(e){t.$set(t.item,"titleEN",e)},expression:"item.titleEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Title (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"titleCH",required:""},model:{value:t.item.titleCH,callback:function(e){t.$set(t.item,"titleCH",e)},expression:"item.titleCH"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Body (EN)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.bodyEN,callback:function(e){t.$set(t.item,"bodyEN",e)},expression:"item.bodyEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Body (CH)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.bodyCH,callback:function(e){t.$set(t.item,"bodyCH",e)},expression:"item.bodyCH"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Info Title (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"infoTitleEN"},model:{value:t.item.infoTitleEN,callback:function(e){t.$set(t.item,"infoTitleEN",e)},expression:"item.infoTitleEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Info Title (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"infoTitleCH"},model:{value:t.item.infoTitleCH,callback:function(e){t.$set(t.item,"infoTitleCH",e)},expression:"item.infoTitleCH"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Info Body (EN)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.infoBodyEN,callback:function(e){t.$set(t.item,"infoBodyEN",e)},expression:"item.infoBodyEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"value"},[o("div",{staticClass:"prop"},[t._v("Info Body (CH)")]),o("br"),t._v(" "),o("wysiwyg",{staticStyle:{background:"#fff"},model:{value:t.item.infoBodyCH,callback:function(e){t.$set(t.item,"infoBodyCH",e)},expression:"item.infoBodyCH"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Description (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaDescriptionEN"},model:{value:t.item.metaDescriptionEN,callback:function(e){t.$set(t.item,"metaDescriptionEN",e)},expression:"item.metaDescriptionEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Description (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaDescriptionCH"},model:{value:t.item.metaDescriptionCH,callback:function(e){t.$set(t.item,"metaDescriptionCH",e)},expression:"item.metaDescriptionCH"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Keywords (EN)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaKeywordsEN"},model:{value:t.item.metaKeywordsEN,callback:function(e){t.$set(t.item,"metaKeywordsEN",e)},expression:"item.metaKeywordsEN"}})],1)]),t._v(" "),o("div",{staticClass:"item-row"},[o("div",{staticClass:"prop"},[t._v("Meta Keywords (CH)")]),t._v(" "),o("div",{staticClass:"value"},[o("b-input",{attrs:{type:"text",name:"metaKeywordsCH"},model:{value:t.item.metaKeywordsCH,callback:function(e){t.$set(t.item,"metaKeywordsCH",e)},expression:"item.metaKeywordsCH"}})],1)])]),t._v(" "),o("div",{staticClass:"item-actions"},[o("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.loading}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Create")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-plus"}),this._v("  ID: Add new Page")])}],!1,null,"55880e4b",null).exports},data:function(){return{itemId:null}},methods:{openCreateForm:function(){this.$router.push("/cms/pages?id=-1")},updated:function(t){var e=t.refresh,o=t.clearItemFrame;!0===e&&this.$refs.list.refresh(),!0===o&&(this.itemId=null,this.$router.push("/cms/pages"),this.$refs.list.refresh())},onRouteUpdate:function(){this.itemId=this.$route.query.id}},watch:{$route:function(){this.onRouteUpdate()}},mounted:function(){var t=this;this.$nextTick((function(){t.onRouteUpdate(),2==t.$auth.user.role_id&&t.$router.push("/cms/collections")}))}},C=Object(r.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmspage countries"},[o("div",{staticClass:"contentframe"},[o("div",{staticClass:"menuframe"},[t._m(0),t._v(" "),o("hr"),t._v(" "),o("PageList",{ref:"list"})],1),t._v(" "),o("div",{staticClass:"itemframe"},[-1==t.itemId?o("CreateForm",{on:{updated:t.updated}}):t.itemId?o("PageItem",{attrs:{itemId:t.itemId},on:{updated:t.updated}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fas fa-columns"}),this._v("  Pages")])])}],!1,null,"102acc13",null);e.default=C.exports},518:function(t,e,o){var content=o(543);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("92bb1f1c",content,!0,{sourceMap:!1})},519:function(t,e,o){t.exports=o.p+"img/placeholder.63ab416.jpg"},539:function(t,e,o){"use strict";o(174);var n={props:["id","baseURL","url","folder","action"],components:{BIconUpload:o(0).zv},data:function(){return{imgBaseURL:"http://localhost:8000/storage",submitting:!1,request:{image:null}}},methods:{revokeFileUploader:function(){this.$refs.fileInput.$el.click()},validate:function(){return this.request.image.type.startsWith("image")},upload:function(){var t=this;this.submitting=!0,setTimeout((function(){if(t.validate()){var e=new FormData;for(var o in t.request)e.append(o,t.request[o]);t.url&&e.append("url",t.url),t.folder&&e.append("folder",t.folder),t.$axios.$post("".concat(t.action||"/cms/upload/local/image"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.submitting=!1,t.request.image=null,t.$emit("uploaded",{id:t.id,url:e.url})})).catch((function(e){t.submitting=!1,t.$toast.error(e.response.data.error.message),t.request.image=null}))}else t.submitting=!1,t.$toast.error("Unsopported type. Please, select image")}),500)}}},r=(o(542),o(20)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"component imageUploader"},[o("div",{staticClass:"imageContainter",on:{click:t.revokeFileUploader}},[t.url?o("img",{attrs:{src:(t.baseURL||t.imgBaseURL)+"/"+t.url}}):t._e(),t._v(" "),o("b-form-file",{ref:"fileInput",staticClass:"fileInput",attrs:{plain:"",accept:"image/*"},on:{change:t.upload},model:{value:t.request.image,callback:function(e){t.$set(t.request,"image",e)},expression:"request.image"}}),t._v(" "),t.submitting?o("div",{staticClass:"loadingOverlay"},[o("b-spinner",{attrs:{variant:"primary",type:"grow",label:"Loading..."}})],1):t._e()],1)])}),[],!1,null,"85256baa",null);e.a=component.exports},542:function(t,e,o){"use strict";o(518)},543:function(t,e,o){var n=o(24),r=o(277),l=o(519);e=n(!1);var c=r(l);e.push([t.i,".nav-tabs .nav-link[data-v-85256baa]{color:#495057;outline:none;border:none;padding:6px 0 0;font-size:25px;margin-right:16px}@media screen and (max-width:768px){.nav-tabs .nav-link[data-v-85256baa]{font-size:14px}}.nav-tabs[data-v-85256baa]{border:none}.nav-tabs .nav-item.show .nav-link[data-v-85256baa],.nav-tabs .nav-link.active[data-v-85256baa]{color:#000;outline:none;font-weight:600;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;font-size:25px;padding:6px 0 0;margin-right:20px}@media screen and (max-width:768px){.nav-tabs .nav-item.show .nav-link[data-v-85256baa],.nav-tabs .nav-link.active[data-v-85256baa]{font-size:14px}}.modal-dialog .confirm-box-body[data-v-85256baa]{text-align:center}.modal-dialog .confirm-box-header-confirm[data-v-85256baa]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm[data-v-85256baa]{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm[data-v-85256baa]{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-85256baa]{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-85256baa]{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-85256baa]{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-85256baa]{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer[data-v-85256baa]{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button[data-v-85256baa]{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary[data-v-85256baa]{opacity:.5}.modal-content[data-v-85256baa]{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header[data-v-85256baa]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button[data-v-85256baa]{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button[data-v-85256baa],.modal-content .white-button[data-v-85256baa]{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button[data-v-85256baa]{color:#fff;background-color:#363636}.component.imageUploader .imageContainter[data-v-85256baa]{position:relative;border:1px dashed #ccc;display:inline-block;padding:5px;border-radius:4px;width:100px;height:100px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:border-color .2s;background:url("+c+") no-repeat 50%;background-size:60%}.component.imageUploader .imageContainter[data-v-85256baa]:hover{border-color:#000}.component.imageUploader .imageContainter img[data-v-85256baa]{max-width:90px;max-height:90px}.component.imageUploader .imageContainter .fileInput[data-v-85256baa]{display:none}.component.imageUploader .imageContainter .loadingOverlay[data-v-85256baa]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;background:rgba(0,0,0,.3);display:flex;align-items:center;justify-content:center}",""]),t.exports=e},579:function(t,e,o){var content=o(718);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("7341dae2",content,!0,{sourceMap:!1})},580:function(t,e,o){var content=o(722);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("1c8e5034",content,!0,{sourceMap:!1})},717:function(t,e,o){"use strict";o(579)},718:function(t,e,o){(e=o(24)(!1)).push([t.i,".nav-tabs .nav-link{color:#495057;outline:none;border:none;padding:6px 0 0;font-size:25px;margin-right:16px}@media screen and (max-width:768px){.nav-tabs .nav-link{font-size:14px}}.nav-tabs{border:none}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#000;outline:none;font-weight:600;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;font-size:25px;padding:6px 0 0;margin-right:20px}@media screen and (max-width:768px){.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{font-size:14px}}.modal-dialog .confirm-box-body{text-align:center}.modal-dialog .confirm-box-header-confirm{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary{opacity:.5}.modal-content{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button,.modal-content .white-button{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button{color:#fff;background-color:#363636}#cms-pages-list th{font-size:13px}#cms-pages-list td{font-size:12px}.cmscomponent.list .actions-container{display:flex;justify-content:space-between;align-items:middle;background:#ddd;padding:10px;border-radius:5px}.cmscomponent.list .actions-container .form-control{height:38px}.cmscomponent.list .actions-container .pagination{margin:0}",""]),t.exports=e},721:function(t,e,o){"use strict";o(580)},722:function(t,e,o){(e=o(24)(!1)).push([t.i,".nav-tabs .nav-link[data-v-bf20ffe8]{color:#495057;outline:none;border:none;padding:6px 0 0;font-size:25px;margin-right:16px}@media screen and (max-width:768px){.nav-tabs .nav-link[data-v-bf20ffe8]{font-size:14px}}.nav-tabs[data-v-bf20ffe8]{border:none}.nav-tabs .nav-item.show .nav-link[data-v-bf20ffe8],.nav-tabs .nav-link.active[data-v-bf20ffe8]{color:#000;outline:none;font-weight:600;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;font-size:25px;padding:6px 0 0;margin-right:20px}@media screen and (max-width:768px){.nav-tabs .nav-item.show .nav-link[data-v-bf20ffe8],.nav-tabs .nav-link.active[data-v-bf20ffe8]{font-size:14px}}.modal-dialog .confirm-box-body[data-v-bf20ffe8]{text-align:center}.modal-dialog .confirm-box-header-confirm[data-v-bf20ffe8]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm[data-v-bf20ffe8]{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm[data-v-bf20ffe8]{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-bf20ffe8]{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-bf20ffe8]{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-bf20ffe8]{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-bf20ffe8]{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer[data-v-bf20ffe8]{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button[data-v-bf20ffe8]{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary[data-v-bf20ffe8]{opacity:.5}.modal-content[data-v-bf20ffe8]{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header[data-v-bf20ffe8]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button[data-v-bf20ffe8]{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button[data-v-bf20ffe8],.modal-content .white-button[data-v-bf20ffe8]{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button[data-v-bf20ffe8]{color:#fff;background-color:#363636}.cmscomponent.item .draggable .block[data-v-bf20ffe8]{display:flex;justify-content:space-between;align-items:center;background:#fff;border:1px solid #ddd;padding:10px;margin:5px 0;border-radius:4px}.cmscomponent.item .draggable .block .handle[data-v-bf20ffe8]{width:30px;text-align:center;cursor:-webkit-grab;cursor:grab}.cmscomponent.item .draggable .block .content[data-v-bf20ffe8]{width:calc(100% - 50px);box-shadow:inset 0 0 5px rgba(0,0,0,.2);border-radius:4px;padding:10px}.cmscomponent.item .block-item-content .block-form-inputs[data-v-bf20ffe8]{display:none}.cmscomponent.item .block-item-content .block-form-inputs.visible[data-v-bf20ffe8]{display:block}.cmscomponent.item .block-item-content .block-form-inputs .block-input-wrapper[data-v-bf20ffe8]{padding:5px;border-radius:4px;background:#ddd;margin-bottom:5px;font-size:14px}.cmscomponent.item .block-item-content .block-form-inputs .block-input-wrapper .block-input-wrapper-title[data-v-bf20ffe8]{font-weight:600;cursor:pointer}.cmscomponent.item .block-item-content .block-form-inputs .block-input-wrapper .input-wrapper input[data-v-bf20ffe8],.cmscomponent.item .block-item-content .block-form-inputs .block-input-wrapper .input-wrapper textarea[data-v-bf20ffe8]{font-size:14px}",""]),t.exports=e}}]);