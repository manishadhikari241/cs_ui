(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1144:function(t,e,o){"use strict";o.r(e);o(8),o(59),o(9),o(52),o(55),o(22),o(33),o(34),o(6),o(130);function n(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return d=t.done,t},e:function(t){l=!0,c=t},f:function(){try{d||null==o.return||o.return()}finally{if(l)throw c}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var c={data:function(){return{items:[],perPage:20,currentPage:1,total:0,fields:[{key:"user_id",label:"User"},{key:"user_email",label:"Email"},{key:"created_at",label:"Date"},{key:"package",label:"Package"},{key:"amount",label:"Price"},{key:"quantity",label:"Quota"},{key:"channel",label:"Channel"},{key:"details",label:"Details"}],exportCol:["user_id","user_email","created_at","package","amount","quantity","channel","billing_details"],loading:!1,searchTerm:{dateFrom:"",dateTo:""}}},methods:{load:function(t){var e=this;this.loading=!0,this.$axios.$get("/cms/payments?page=".concat(t).concat(this.searchTerm.dateFrom?"&created_from="+this.searchTerm.dateFrom:"").concat(this.searchTerm.dateTo?"&created_to="+this.searchTerm.dateTo:"")).then((function(t){var o,r=n(t.data);try{for(r.s();!(o=r.n()).done;){var c=o.value;c.user_email=c.user.email}}catch(t){r.e(t)}finally{r.f()}e.items=t.data,e.total=t.total,e.loading=!1,document.querySelector(".menuframe").scrollTop=0}))},search:function(){this.currentPage=1,this.load(this.currentPage),document.querySelector(".search-input").blur()},resetSearch:function(){this.searchTerm.dateFrom="",this.searchTerm.dateTo="",this.search()},refresh:function(){this.load(this.currentPage)},exportCsv:function(){var t=this;this.loading=!0,this.$axios.$get("/cms/payments?export=true".concat(this.searchTerm.dateFrom?"&created_from="+this.searchTerm.dateFrom:"").concat(this.searchTerm.dateTo?"&created_to="+this.searchTerm.dateTo:"")).then((function(e){var o,r=n(e);try{for(r.s();!(o=r.n()).done;){var c=o.value;c.user_email=c.user.email}}catch(t){r.e(t)}finally{r.f()}t.$exportCsv(e,"Sales Report ".concat(t.$moment().format("YYYY-MM-DD")),t.exportCol),t.loading=!1}))}},mounted:function(){var t=this;this.$nextTick((function(){t.load(t.currentPage)}))}},d=(o(823),o(20)),l=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmscomponent list"},[o("div",{staticClass:"actions-container"},[o("div",[o("form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-datepicker",{staticClass:"search-input",attrs:{size:"sm",placeholder:"Search by date (from)"},model:{value:t.searchTerm.dateFrom,callback:function(e){t.$set(t.searchTerm,"dateFrom",e)},expression:"searchTerm.dateFrom"}}),t._v(" "),o("b-form-datepicker",{staticClass:"search-input",attrs:{size:"sm",placeholder:"Search by date (to)"},model:{value:t.searchTerm.dateTo,callback:function(e){t.$set(t.searchTerm,"dateTo",e)},expression:"searchTerm.dateTo"}}),t._v(" "),o("b-input-group-append",[o("b-button",{directives:[{name:"show",rawName:"v-show",value:t.searchTerm.dateFrom||t.searchTerm.dateTo,expression:"searchTerm.dateFrom || searchTerm.dateTo"}],attrs:{variant:"secondary",type:"button"},on:{click:t.resetSearch}},[t._v("Reset")]),t._v(" "),o("b-button",{attrs:{variant:"primary",type:"submit"}},[t._v("Search")])],1)],1)],1)]),t._v(" "),o("div",[o("b-pagination",{attrs:{"total-rows":t.total,"per-page":t.perPage,"aria-controls":"cms-sales-list"},on:{change:t.load},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t._v(" "),o("div",{staticClass:"additional-actions"},[o("div",[t._v(" ")]),t._v(" "),o("div",{staticClass:"total-count"},[t._v("\n      Total: "),o("strong",[t._v(t._s(t.total))]),t._v(" "),o("b-button",{attrs:{size:"sm",variant:"success",disabled:t.loading},on:{click:t.exportCsv}},[t._v("Export")])],1)]),t._v(" "),o("b-table",{attrs:{id:"cms-sales-list",items:t.items,fields:t.fields,busy:t.loading,"select-mode":"single","sticky-header":"",small:"",selectable:"",striped:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(data){return[o("b-link",{on:{click:function(e){return t.$router.push("/cms/users?id="+data.value)}}},[t._v(t._s(data.value))])]}},{key:"cell(created_at)",fn:function(data){return[t._v("\n      "+t._s(t.$moment(data.value).format("YYYY-MM-DD"))+"\n    ")]}},{key:"cell(details)",fn:function(data){return[o("b-link",{on:{click:function(e){return t.$router.push("/cms/sales?id="+data.item.id)}}},[t._v("Invoice")])]}}])})],1)}),[],!1,null,null,null).exports,m={props:["itemId"],components:{CmsInvoice:o(575).a},data:function(){return{item:null,loading:!1,reject:{message:""},approve:{id:""}}},methods:{load:function(){var t=this;this.$axios.$get("/cms/payments/".concat(this.itemId)).then((function(e){t.item=e}))},cancel:function(){this.$emit("updated",{clearItemFrame:!0})}},watch:{itemId:function(){this.item=null,this.load()}},mounted:function(){var t=this;this.$nextTick((function(){t.load()}))}},f=(o(825),{middleware:"cmsuser",layout:"cms",components:{SalesList:l,SalesItem:Object(d.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmscomponent item request"},[t.item?t._e():o("div",{staticStyle:{"text-align":"center"}},[o("b-spinner",{attrs:{type:"grow",label:"Loading..."}})],1),t._v(" "),t.item?o("div",[o("div",{staticClass:"title ignorePrint"},[o("span",[o("i",{staticClass:"far fa-edit"}),t._v("  ID: "+t._s(t.item.id))]),t._v(" "),o("div",[o("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:t.cancel}},[t._v("Cancel")])],1)]),t._v(" "),o("hr",{staticClass:"ignorePrint"}),t._v(" "),t.item?o("div",{staticClass:"invoice-container"},[o("CmsInvoice",{attrs:{payment:t.item}})],1):t._e()]):t._e()])}),[],!1,null,"d1fa6cac",null).exports},data:function(){return{itemId:null}},methods:{updated:function(t){var e=t.refresh,o=t.clearItemFrame;!0===e&&this.$refs.list.refresh(),!0===o&&(this.itemId=null,this.$router.push("/cms/sales"),this.$refs.list.refresh())},onRouteUpdate:function(){this.itemId=this.$route.query.id}},watch:{$route:function(){this.onRouteUpdate()}},mounted:function(){var t=this;this.$nextTick((function(){t.onRouteUpdate()}))}}),v=Object(d.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmspage users"},[o("div",{staticClass:"contentframe"},[o("div",{staticClass:"menuframe ignorePrint"},[t._m(0),t._v(" "),o("hr"),t._v(" "),o("SalesList",{ref:"list"})],1),t._v(" "),o("div",{staticClass:"itemframe"},[t.itemId?o("SalesItem",{attrs:{itemId:t.itemId},on:{updated:t.updated}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fas fa-file"}),this._v("  Sales")])])}],!1,null,"27c096ca",null);e.default=v.exports},520:function(t,e,o){var content=o(546);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("2c41cbb3",content,!0,{sourceMap:!1})},545:function(t,e,o){"use strict";o(520)},546:function(t,e,o){(e=o(24)(!1)).push([t.i,".modal-dialog .confirm-box-body[data-v-6a5e891b]{text-align:center}.modal-dialog .confirm-box-header-confirm[data-v-6a5e891b]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm[data-v-6a5e891b]{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm[data-v-6a5e891b]{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-6a5e891b]{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-6a5e891b]{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-6a5e891b]{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-6a5e891b]{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer[data-v-6a5e891b]{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button[data-v-6a5e891b]{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary[data-v-6a5e891b]{opacity:.5}.modal-content[data-v-6a5e891b]{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header[data-v-6a5e891b]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button[data-v-6a5e891b]{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button[data-v-6a5e891b],.modal-content .white-button[data-v-6a5e891b]{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button[data-v-6a5e891b]{color:#fff;background-color:#363636}.title[data-v-6a5e891b]{font-size:25px}.back[data-v-6a5e891b],.title[data-v-6a5e891b]{font-weight:700;color:#363636}.back[data-v-6a5e891b]{font-size:14px;border:1px solid #363636;border-radius:30px;padding:5px 20px;background-color:#fff;right:175px;position:absolute}.btn-print[data-v-6a5e891b]{background:#363636}.invoice-header[data-v-6a5e891b]{padding-top:15px;text-align:center}.invoice-header .logo[data-v-6a5e891b]{margin-bottom:10px}.invoice-header .logo img[data-v-6a5e891b]{height:70px}.invoice-header .text[data-v-6a5e891b]{color:#4a4a4a;font-size:14px}.invoice-details[data-v-6a5e891b]{font-size:14px}.invoice-details .prop[data-v-6a5e891b]{font-weight:700;padding:10px}.invoice-details .value[data-v-6a5e891b]{padding:10px}.invoice-details .value p[data-v-6a5e891b]{margin:0;padding:0}.invoice-details .value .capitalize[data-v-6a5e891b]{text-transform:capitalize}",""]),t.exports=e},575:function(t,e,o){"use strict";var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"invoice-header"},[e("div",{staticClass:"logo"},[e("img",{attrs:{alt:"logo",src:o(279)}})]),this._v(" "),e("div",{staticClass:"text"},[this._v("Unit 611, Kinetic Industrial Center, No.7 Wang Kwong Road, Kowloon Bay, Hong Kong")]),this._v(" "),e("div",{staticClass:"text"},[this._v("www.collectionstock.com")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"value"},[e("p",[this._v("* Payment are made in USD")]),this._v(" "),e("p",[this._v("* No VAT applies - For EU customers Reverse Charge applies (VAT 0%).")]),this._v(" "),e("p",[this._v("* On all designs you download and use on Collectionstock the Extended License Terms will apply.")])])}],r={name:"cmsinvoice",props:["payment"],methods:{print:function(){window.print()}}},c=(o(545),o(20)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"title"},[o("span",[t._v("Invoice # "+t._s(t.payment.id))]),t._v(" "),o("b-button",{staticClass:"btn-print ignorePrint",attrs:{size:"sm"},on:{click:t.print}},[t._v("Print Invoice   "),o("i",{staticClass:"fas fa-print"})])],1),t._v(" "),t._m(0),t._v(" "),o("br"),o("hr",{staticClass:"ignorePrint"}),t._v(" "),o("div",{staticClass:"invoice-details"},[o("div",{staticClass:"prop"},[t._v("Invoice Date")]),t._v(" "),o("div",{staticClass:"value"},[t._v(t._s(t.$moment(t.payment.created_at).format("DD/MM/YYYY")))]),t._v(" "),o("div",{staticClass:"prop"},[t._v("Payment Method")]),t._v(" "),o("div",{staticClass:"value"},["coupon"!=t.payment.channel?o("span",[t._v("Credit Card")]):t._e(),t._v(" "),"coupon"==t.payment.channel?o("span",[t._v("Coupon")]):t._e()]),t._v(" "),o("div",{staticClass:"prop"},[t._v(t._s(t.$t("billing_details")))]),t._v(" "),t.payment.billing_details?o("div",{staticClass:"value"},[t._v(t._s(t.payment.billing_details))]):t._e(),t._v(" "),"coupon"!=t.payment.channel?o("div",{staticClass:"prop"},[t._v("Transaction ID")]):t._e(),t._v(" "),"coupon"!=t.payment.channel?o("div",{staticClass:"value"},[t._v(t._s(t.payment.transaction_id))]):t._e(),t._v(" "),o("div",{staticClass:"prop"},[t._v("Package")]),t._v(" "),o("div",{staticClass:"value"},["standard"==t.payment.package||"extended"==t.payment.package?o("div",[o("p",[o("span",{staticClass:"capitalize"},[t._v(t._s(t.$t(t.payment.package)))]),t._v(" "+t._s("standard"==t.payment.package||"extended"==t.payment.package?"License":"Requests")+" - $"+t._s(t.payment.amount)+" for "+t._s(t.payment.quantity)+" "+t._s("standard"==t.payment.package||"extended"==t.payment.package?"designs":"requests"))]),t._v(" "),"standard"==t.payment.package?o("p",[t._v(t._s(t.$t("jpg_only")))]):t._e(),t._v(" "),"extended"==t.payment.package?o("p",[t._v(t._s(t.$t("jpg_pdf_ai_eps")))]):t._e(),t._v(" "),"standard"==t.payment.package?o("p",[t._v(t._s(t.$t("for_print_advertising_design")))]):t._e(),t._v(" "),"extended"==t.payment.package?o("p",[t._v(t._s(t.$t("for_resale_items_or_reproduction")))]):t._e()]):"simulator"==t.payment.package?o("div",[o("p",[t._v("PRODUCT SIMULATOR - $"+t._s(t.payment.amount)+" for "+t._s(t.payment.quantity)+" products")]),t._v(" "),o("p",[t._v("Add your own products into the simulator")])]):o("div",[o("p",[t._v("Exclusive Designs - $"+t._s(t.payment.amount)+" for "+t._s(t.payment.quantity)+" designs")]),t._v(" "),o("p",[t._v("JPG, PDF, AI, EPS")]),t._v(" "),o("p",[t._v("Ownership Certificate")]),t._v(" "),o("p",[t._v("Tailor-made on request")])]),t._v(" "),o("p",[t._v(t._s(t.$t("to_be_used_within")))])]),t._v(" "),o("div",{staticClass:"prop"},[t._v("Period")]),t._v(" "),o("div",{staticClass:"value"},[t._v("1 year : "+t._s(t.$moment(t.payment.created_at).format("DD/MM/YYYY"))+" - "+t._s(t.$moment(t.payment.created_at).add("years",1).format("DD/MM/YYYY")))]),t._v(" "),o("div",{staticClass:"prop"},[t._v("Contract Start Date")]),t._v(" "),o("div",{staticClass:"value"},[t._v(t._s(t.$moment(t.payment.created_at).format("DD/MM/YYYY")))]),t._v(" "),o("div",{staticClass:"prop"},[t._v("Total")]),t._v(" "),o("div",{staticClass:"value"},[t._v("US$ "+t._s(t.payment.amount))]),t._v(" "),o("div",{staticClass:"prop"},[t._v("IMPORTANT")]),t._v(" "),t._m(1),t._v(" "),o("br")])])}),n,!1,null,"6a5e891b",null);e.a=component.exports},632:function(t,e,o){var content=o(824);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("3f53729a",content,!0,{sourceMap:!1})},633:function(t,e,o){var content=o(826);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(25).default)("2614e27c",content,!0,{sourceMap:!1})},823:function(t,e,o){"use strict";o(632)},824:function(t,e,o){(e=o(24)(!1)).push([t.i,".modal-dialog .confirm-box-body{text-align:center}.modal-dialog .confirm-box-header-confirm{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary{opacity:.5}.modal-content{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button,.modal-content .white-button{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button{color:#fff;background-color:#363636}#cms-sales-list th{font-size:13px}#cms-sales-list td{font-size:12px}.cmscomponent.list .actions-container{display:flex;justify-content:space-between;align-items:middle;background:#ddd;padding:10px;border-radius:5px}.cmscomponent.list .actions-container .form-control{height:38px}.cmscomponent.list .actions-container .pagination{margin:0}",""]),t.exports=e},825:function(t,e,o){"use strict";o(633)},826:function(t,e,o){(e=o(24)(!1)).push([t.i,".modal-dialog .confirm-box-body[data-v-d1fa6cac]{text-align:center}.modal-dialog .confirm-box-header-confirm[data-v-d1fa6cac]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff;margin-bottom:-24px;border:none;height:10px;z-index:1}.modal-dialog .confirm-box-body-confirm[data-v-d1fa6cac]{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm[data-v-d1fa6cac]{height:93px;padding-bottom:68px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-d1fa6cac]{background-color:#363636;font-size:13px;color:#363636;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#fff;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-secondary[data-v-d1fa6cac]{margin-right:-186px;margin-left:95px}}.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-d1fa6cac]{font-size:13px;color:#fff;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;background-color:#363636;font-weight:700;margin-right:-163px}@media screen and (max-width:550px){.modal-dialog .confirm-box-footer-confirm .btn-primary[data-v-d1fa6cac]{margin-right:93px;margin-left:-77px}}.modal-dialog .confirm-box-footer[data-v-d1fa6cac]{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button[data-v-d1fa6cac]{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary[data-v-d1fa6cac]{opacity:.5}.modal-content[data-v-d1fa6cac]{border:none;box-shadow:10px 9px 5px 0 rgba(54,54,54,.13)}.modal-content confirm-box-body-confirm .modal-header[data-v-d1fa6cac]{margin-left:-1px;margin-top:-1px;background-color:#fff;color:#fff}.modal-content .white-button[data-v-d1fa6cac]{background-color:#363636;color:#363636;background-color:#fff}.modal-content .black-button[data-v-d1fa6cac],.modal-content .white-button[data-v-d1fa6cac]{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.modal-content .black-button[data-v-d1fa6cac]{color:#fff;background-color:#363636}",""]),t.exports=e}}]);