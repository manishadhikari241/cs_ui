(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{473:function(t,e,n){t.exports=n.p+"img/print_black.af18791.png"},550:function(t,e,n){var content=n(707);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("a3b6cbba",content,!0,{sourceMap:!1})},706:function(t,e,n){"use strict";n(550)},707:function(t,e,n){(e=n(29)(!1)).push([t.i,'.modal-dialog .confirm-box-body{text-align:center}.modal-dialog .confirm-box-body-confirm{text-align:center;padding-top:40px}.modal-dialog .confirm-box-footer-confirm{height:120px;padding-bottom:50px;border-top:none;justify-content:center}.modal-dialog .confirm-box-footer-confirm .btn-secondary{background-color:#363636;color:#363636;background-color:#fff}.modal-dialog .confirm-box-footer-confirm .btn-primary,.modal-dialog .confirm-box-footer-confirm .btn-secondary{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:-163px;font-weight:700;margin-right:-163px}.modal-dialog .confirm-box-footer-confirm .btn-primary{color:#fff;background-color:#363636}.modal-dialog .confirm-box-footer{border-top:none;justify-content:center}.modal-dialog .confirm-box-footer button{background:#363636;color:#fff;border:none;outline:none}.modal-dialog .confirm-box-footer button.btn-secondary{opacity:.5}.modal-content .modal-header{margin-left:-1px;margin-top:-1px;background-color:#363636;color:#fff}.white-button{background-color:#363636;color:#363636;background-color:#fff}.black-button,.white-button{font-size:13px;border:1px solid #363636;border-radius:30px;padding:5px 45px;margin-left:20px;font-weight:600;margin-right:20px;text-transform:uppercase}.black-button{color:#fff;background-color:#363636}.share-form .btn-send{color:#fff;background-color:#363636;border-radius:30px;border:none}.share-form .btn-cancel,.share-form .btn-send{display:inline-block;padding:0;width:100px;height:30px;line-height:30px;font-size:14px;font-weight:650;text-align:center;text-decoration:none;outline:none;text-transform:uppercase;box-shadow:0 2px 4px rgba(0,0,0,.2)}.share-form .btn-cancel{color:#363636;background-color:#fff;border-radius:30px;border:1px solid #363636;margin-left:15px}.page.list .container{max-width:100%!important}.page.list .list-header{display:flex;align-items:center;justify-content:space-between}.page.list .list-header .btn-edit-list-title{border:none;background:transparent!important;font-size:18px;color:#363636;padding:0 5px}.page.list .list-header .actions button{outline:none;box-shadow:none;border:none;background:none;color:#363636;padding:0;font-size:20px;margin-left:5px;opacity:.5}.page.list .list-header .actions button.active{opacity:1}.page.list .list-header .actions button.btn-print{font-size:13px;opacity:1;border:1px solid #363636;border-radius:30px;padding:2px 15px;font-weight:700}.page.list .share{margin:20px 0}.page.list .share .share-box{border:solid #ddd;border-width:1px 1px 2px;border-radius:6px}.page.list .share .share-box .share-header{padding:20px;font-size:20px;font-weight:700;display:flex;align-items:center;justify-content:space-between;cursor:pointer}.page.list .share .share-box .share-body{padding:20px;border-top:1px solid #ddd}.page.list .share .share-box .share-body .list-url-box{padding:10px;border:1px solid #ddd;border-radius:5px;font-size:14px}.page.list .share .share-box .share-body .list-url-box .actions button{outline:none;border:none;color:#363636;box-shadow:none;font-size:14px;background:transparent;padding:5px}.page.list .share .share-box .share-body .list-url-box .actions a{font-size:16px;text-decoration:none;color:#363636;position:relative;top:2px}.page.list .share .share-box .share-body .share-form{margin-top:20px}.page.list .share .share-box .share-body .share-form input{width:100%;max-width:400px;margin-bottom:10px}.page.list .share .share-box .share-body .share-form textarea{margin-bottom:10px;height:100px}.page.list .share .share-box .share-body .share-form .addShareRecipient{border:none;background:transparent;padding:0;font-size:18px;color:#363636;position:relative;right:-5px;top:-5px;outline:none;box-shadow:none}.page.list .designs .table td,.page.list .designs .table th{vertical-align:middle}.page.list .designs table .design-preview{width:100px;height:100px}.page.list .designs table td[aria-colindex="3"],.page.list .designs table td[aria-colindex="4"],.page.list .designs table th[aria-colindex="3"],.page.list .designs table th[aria-colindex="4"]{text-align:center}.page.list .designs table .btn-delete{color:#363636;font-size:40px;text-align:center;padding:0;background:transparent;border:none}.page.list .designs table .btn-download{color:#363636;font-size:20px;text-align:center;padding:0;background:transparent;border:none}',""]),t.exports=e},755:function(t,e,n){"use strict";n.r(e);n(59),n(51),n(55),n(32),n(33),n(11),n(9),n(8),n(6),n(10),n(22);var o=n(3),r=n(40),l=n(475),c=n(459),d=n(0);function h(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={middleware:"auth",components:{BIconPlusCircleFill:d.Fr,DesignTile:l.a,DesignList:c.a,BIconGridFill:d.Bn,BIconListTask:d.Gp,BIconX:d.Xv,BIconChevronDown:d.eh,BIconChevronUp:d.ih,BIconEyeFill:d.Yj,BIconClipboard:d.nh,BIconDownload:d.Zi},asyncData:function(t){return t.$axios.get("/pages/lists").then((function(t){return{pageData:t.data}}))},head:function(){return{meta:[{hid:"description",name:"description",content:this.pageData.translations[this.$i18n.locale].meta_description},{hid:"keywords",name:"keywords",content:this.pageData.translations[this.$i18n.locale].meta_keywords}]}},computed:x(x({},Object(r.b)("app",["init"])),{},{productCount:function(){if(!this.list)return 0;var t,e=0,n=h(this.list.products);try{for(n.s();!(t=n.n()).done;){"quickDisplay"in t.value||e++}}catch(t){n.e(t)}finally{n.f()}return e}}),data:function(){return{serverURL:"https://newapi.collectionstock.com",list:null,editTitleMode:!1,loading:!1,mode:"grid",fields:[{key:"design",label:this.$t("designs")},{key:"code",label:this.$t("design_name")},{key:"download",label:this.$t("download")},{key:"actions",label:this.$t("delete")}],removing:!1,selectedDesign:null,shareExpanded:!1,clipboardTooltip:this.$t("copy_to_clipboard"),sharing:!1,shareEmailCount:1}},methods:{getList:function(){for(var t=this.$route.params.id,i=0;i<this.init.lists.length;i++)if(this.init.lists[i].id==t){this.list=JSON.parse(JSON.stringify(this.init.lists[i]));break}},changeMode:function(t){this.$refs.designList&&this.$refs.designList.closeQuickDisplay(),this.mode=t},selectDesign:function(t){this.selectedDesign=t},confirmRemove:function(t){var e=this;this.selectDesign(t),this.$bvModal.msgBoxConfirm(this.$t("are_you_sure"),{centered:!0,bodyClass:"confirm-box-body",footerClass:"confirm-box-footer"}).then((function(t){t&&e.remove()}))},remove:function(){var t=this;this.removing=!0,this.$axios.$delete("/list/".concat(this.list.id,"/design/").concat(this.selectedDesign)).then((function(e){for(var i=0;i<t.init.lists.length;i++)t.init.lists[i].id==e.id&&(t.$store.commit("app/replaceList",{index:i,list:e}),t.list=e);t.removing=!1,t.selectDesign(null)}))},toggleShareBox:function(t){this.shareExpanded=t},getListShareURL:function(){return"https://ui.collectionstock.com/shared/list/"+this.list.view_token},copyListShareURL:function(){var t=this,e=this.getListShareURL();this.$copyText(e).then((function(e){t.listURLCopied()}))},listURLCopied:function(){var t=this;this.clipboardTooltip=this.$t("share_link_copied"),setTimeout((function(){t.clipboardTooltip=t.$t("copy_to_clipboard")}),1500)},clearForm:function(){document.querySelectorAll(".share-form input").forEach((function(t){t.value=""})),document.querySelector(".share-form textarea").value="",this.shareEmailCount=1},cancelForm:function(){this.toggleShareBox(!1),this.clearForm()},shareList:function(t){var e=this,n=t.target.elements["email[]"],o=[];n.forEach?n.forEach((function(t){t.value.length&&o.push(t.value)})):o.push(n.value),this.sharing=!0,this.$axios.$post("/list/share/".concat(this.list.id),{emails:o,name:t.target.elements.name.value,message:t.target.elements.message.value}).then((function(t){e.sharing=!1,e.cancelForm(),e.$toast.success(e.$t("list_shared_success_message"))})).catch((function(t){e.sharing=!1,e.$toast.error(t.response.data.error.message)}))},addRecipientInput:function(){var t=document.querySelectorAll('.share-form input[type="email"]');t[t.length-1].value.length>0&&this.shareEmailCount++},updateListTitle:function(t){var e=this,n=t.target.elements.name.value;this.loading=!0,this.$axios.$patch("/list/".concat(this.list.id),{name:n}).then((function(t){e.loading=!1,e.editTitleMode=!1,e.$toast.success(e.$t("list_name_updated_successfully"));for(var i=0;i<e.init.lists.length;i++)e.init.lists[i].id==e.list.id&&(e.$store.commit("app/updateListName",{index:i,name:n}),e.list.name=n)})).catch((function(t){e.loading=!1,e.$toast.error(t.response.data.error.message)}))},print:function(){window.print()},editListNameBlur:function(t){t.relatedTarget&&-1!=t.relatedTarget.className.indexOf("updateListTileButton")||(this.editTitleMode=!1)}},watch:{init:function(t){this.$nextTick((function(){t.lists&&this.getList()}))}},mounted:function(){this.$nextTick((function(){this.init.lists&&this.getList()})),console.log(this.$route)}},y=(n(706),n(21)),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page list"},[t.list?t._e():o("div",{staticStyle:{"text-align":"center"}},[o("b-spinner",{attrs:{type:"grow",label:"Loading..."}})],1),t._v(" "),t.list?o("div",[o("b-container",{staticClass:"list-header"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.editTitleMode,expression:"!editTitleMode"}]},[o("h3",[o("span",[t._v(t._s(t.list.name))]),t._v(" "),o("b-button",{staticClass:"btn-edit-list-title ignorePrint",attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(e){t.editTitleMode=!0,t.$nextTick((function(){t.$refs.updateListTileInput.focus()}))}}},[o("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" "),o("span",[t._v("("+t._s(t.productCount)+")")])],1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.editTitleMode,expression:"editTitleMode"}]},[o("form",{on:{submit:function(e){return e.preventDefault(),t.updateListTitle(e)}}},[o("b-input-group",[o("b-form-input",{ref:"updateListTileInput",attrs:{name:"name",value:t.list.name,required:""},on:{blur:t.editListNameBlur}}),t._v(" "),o("b-input-group-append",[o("b-button",{staticClass:"updateListTileButton",attrs:{variant:"dark",type:"submit",disabled:t.loading}},[t._v(t._s(t.$t("update")))])],1)],1)],1)]),t._v(" "),o("div",{staticClass:"actions ignorePrint"},[o("b-button",{staticClass:"btn-print ignorePrint",attrs:{size:"sm"},on:{click:t.print}},[t._v("\n          "+t._s(t.$t("print"))+" "),o("img",{staticStyle:{height:"auto",width:"20px"},attrs:{src:n(473)}})])],1)]),t._v(" "),o("b-container",{staticClass:"share ignorePrint"},[o("div",{staticClass:"share-box"},[o("div",{staticClass:"share-header",on:{click:function(e){return t.toggleShareBox(!t.shareExpanded)}}},[o("span",[t._v(t._s(t.$t("share_via_email")))]),t._v(" "),o("div",{staticClass:"arrow"},[o("b-icon-chevron-down",{directives:[{name:"show",rawName:"v-show",value:!t.shareExpanded,expression:"!shareExpanded"}]}),t._v(" "),o("b-icon-chevron-up",{directives:[{name:"show",rawName:"v-show",value:t.shareExpanded,expression:"shareExpanded"}]})],1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.shareExpanded,expression:"shareExpanded"}],staticClass:"share-body"},[o("div",{staticClass:"list-url-box"},[o("p",[t._v(t._s(t.$t("or_copy_this_link"))+":")]),t._v(" "),o("p",[t._v(t._s(t.getListShareURL()))]),t._v(" "),o("div",{staticClass:"actions"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:t.getListShareURL(),target:"_blank",title:t.$t("preview_share_link")}},[o("b-icon-eye-fill")],1),t._v(" "),o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.clipboardTooltip},on:{click:t.copyListShareURL}},[o("b-icon-clipboard")],1)],1)]),t._v(" "),o("div",{staticClass:"share-form"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.shareList(e)}}},[t._l(t.shareEmailCount,(function(e,n){return[o("div",{key:"recipient_email_"+e,staticStyle:{display:"flex"}},[o("b-input",{attrs:{type:"email",name:"email[]",placeholder:t.$t("recipient_email"),required:0==n}}),t._v(" "),n==t.shareEmailCount-1?o("b-button",{staticClass:"addShareRecipient",attrs:{tabindex:"-1"},on:{click:t.addRecipientInput}},[o("b-icon-plus-circle-fill")],1):t._e()],1)]})),t._v(" "),o("b-input",{attrs:{type:"text",name:"name",placeholder:t.$t("recipient_name"),required:""}}),t._v(" "),o("b-textarea",{attrs:{placeholder:t.$t("message"),name:"message"}}),t._v(" "),o("button",{staticClass:"btn-send",attrs:{type:"submit",disabled:t.sharing}},[t._v(t._s(t.$t("send")))]),t._v(" "),o("button",{staticClass:"btn-cancel",on:{click:t.cancelForm}},[t._v(t._s(t.$t("cancel")))])],2)])])])]),t._v(" "),o("b-container",{staticClass:"designs"},["grid"==t.mode?o("div",[o("DesignList",{ref:"designList",attrs:{designs:t.list.products}})],1):t._e()])],1):t._e()])}),[],!1,null,null,null);e.default=component.exports}}]);